var e=Object.defineProperty,t=(t,s,n)=>((t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n)(t,"symbol"!=typeof s?s+"":s,n);import{r as s,g as n}from"./phaser-DJkhv3Fe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o=n(s());class i extends o.Scene{constructor(e){super(e)}}function r(e){return{x:e.cameras.main.centerX,y:e.cameras.main.centerY}}class a{constructor(){t(this,"loadingPercentText"),t(this,"loadingBar")}create(e){if(!(e instanceof Phaser.Scene))throw new Error("Invalid argument: scene isn't an instance of Phaser.Scene");const t=r(e),s=t.x,n=1.05*t.y;e.add.rectangle(s,n,226,16,3355443),this.loadingBar=e.add.rectangle(s,n,0,14,16777215),this.loadingPercentText=e.add.text(s,n,"0%",{fontSize:"11px",color:"#000000"}).setOrigin(.5)}updateProgress(e){if(e<0||e>1)throw new Error("Invalid argument");const t=100*e;this.loadingPercentText.setText(`${t.toFixed(0)}%`),this.loadingBar.setSize(220*e,this.loadingBar.height)}}const c={title:"A ruÃ­na de Arquimedes",type:o.WEBGL,pixelArt:!0,scale:{mode:o.Scale.FIT,autoCenter:o.Scale.CENTER_BOTH,width:427,height:240},parent:"game-container",render:{antialias:!1,antialiasGL:!1,pixelArt:!0},roundPixels:!0,physics:{default:"arcade",arcade:{debug:!1,fps:24,timeScale:1,gravity:{x:0,y:0},tileBias:16}},scene:[class extends i{constructor(){super("Boot"),t(this,"continueText")}preload(){this.load.on("complete",(()=>this.addEventsToGoToNextScene()))}create(){const e=r(this);this.continueText=this.add.text(e.x,e.y,"Press any key or click to start the game",{fontSize:12}).setOrigin(.5),function(e){const{scene:t,target:s,othersConfigs:n}=e;t.tweens.add({targets:s,alpha:n.alpha||0,duration:n.duration||1e3,yoyo:n.yoyo||!0,repeat:n.repeat||-1})}({scene:this,target:this.continueText,othersConfigs:{duration:1e3}})}addEventsToGoToNextScene(){var e;null==(e=this.input.keyboard)||e.on("keydown",(()=>{this.scene.start("Preloader"),this.removeEventsToGoToNextScene()})),this.input.on("pointerdown",(()=>{this.scene.start("Preloader"),this.removeEventsToGoToNextScene()}))}removeEventsToGoToNextScene(){var e;null==(e=this.input.keyboard)||e.off("keydown"),this.input.off("pointerdown")}},class extends i{constructor(){super("Preloader"),t(this,"loadingBar"),t(this,"currentAssetInLoadingText")}init(){this.loadingBar=new a,this.loadingBar.create(this);const e=r(this),t={x:e.x,y:.9*e.y};this.add.text(t.x,t.y,"Loading").setOrigin(.5);const s={x:e.x,y:1.18*e.y};this.currentAssetInLoadingText=this.add.text(s.x,s.y,"Asset: ",{color:"#c1c1c1",fontSize:10}).setOrigin(.5)}preload(){this.load.setPath("assets"),this.load.image("logo","logos/logo_en.png"),this.load.on("progress",this.loadingBar.updateProgress.bind(this.loadingBar)),this.load.on("fileprogress",this.updateFilesInLoadingText.bind(this)),this.load.on("complete",this.completeLoading.bind(this))}updateFilesInLoadingText(e){this.currentAssetInLoadingText.setText(`Asset: ${e.key}`)}completeLoading(){this.time.delayedCall(2e3,(()=>this.scene.start("MainMenu")))}},class extends i{constructor(){super("MainMenu")}create(){const e=r(this),t={x:e.x,y:.5*e.y};this.add.image(t.x,t.y,"logo").setDisplaySize(200,100);const s={x:e.x,y:1.3*e.y};this.add.text(s.x,s.y,"IN PROGRESS.").setOrigin(.5)}},class extends i{constructor(){super("Game")}create(){}},class extends i{constructor(){super("GameOver")}create(){}}]};new o.Game(c);
