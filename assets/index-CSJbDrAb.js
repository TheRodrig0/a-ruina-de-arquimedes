var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{r as n,g as s}from"./phaser-DJkhv3Fe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const r=s(n());class o extends r.Scene{constructor(e){super(e)}}function a(e){return{x:e.cameras.main.centerX,y:e.cameras.main.centerY}}class i{constructor(){t(this,"loadingPercentText"),t(this,"loadingBar")}create(e){if(!(e instanceof Phaser.Scene))throw new Error("Invalid argument: scene isn't an instance of Phaser.Scene");const t=a(e),n={x:t.x,y:1.05*t.y},s={x:t.x,y:n.y},r={x:t.x,y:1.05*t.y};e.add.rectangle(n.x,n.y,226,16,3355443),this.loadingBar=e.add.rectangle(s.x,s.y,0,14,16777215),this.loadingPercentText=e.add.text(r.x,r.y,"0%",{fontSize:"11px",color:"#000000"}).setOrigin(.5)}updateProgress(e){if(e<0||e>1)throw new Error("Invalid argument");const t=100*e;this.loadingPercentText.setText(`${t.toFixed(0)}%`),this.loadingBar.setSize(220*e,this.loadingBar.height)}}const c={title:"A ruÃ­na de Arquimedes",type:r.WEBGL,pixelArt:!0,scale:{mode:r.Scale.FIT,autoCenter:r.Scale.CENTER_BOTH,width:427,height:240},parent:"game-container",render:{antialias:!1,antialiasGL:!1,pixelArt:!0},roundPixels:!0,physics:{default:"arcade",arcade:{debug:!1,fps:24,timeScale:1,gravity:{x:0,y:0},tileBias:16}},scene:[class extends o{constructor(){super("Boot"),t(this,"continueText")}preload(){this.load.on("complete",(()=>this.addEventsToGoToNextScene()))}create(){const e=a(this);this.continueText=this.add.text(e.x,e.y,"Press any key or click to start the game",{fontSize:12}).setOrigin(.5),function(e){const{scene:t,target:n,othersConfigs:s}=e;t.tweens.add({targets:n,alpha:s.alpha||0,duration:s.duration||1e3,yoyo:s.yoyo||!0,repeat:s.repeat||-1})}({scene:this,target:this.continueText,othersConfigs:{duration:1e3}})}addEventsToGoToNextScene(){var e;null==(e=this.input.keyboard)||e.on("keydown",(()=>{this.scene.start("Preloader"),this.removeEventsToGoToNextScene()})),this.input.on("pointerdown",(()=>{this.scene.start("Preloader"),this.removeEventsToGoToNextScene()}))}removeEventsToGoToNextScene(){var e;null==(e=this.input.keyboard)||e.off("keydown"),this.input.off("pointerdown")}},class extends o{constructor(){super("Preloader"),t(this,"loadingBar"),t(this,"currentAssetInLoadingText")}init(){this.loadingBar=new i,this.loadingBar.create(this);const e=a(this),t={x:e.x,y:.9*e.y};this.add.text(t.x,t.y,"Loading").setOrigin(.5);const n={x:e.x,y:1.18*e.y};this.currentAssetInLoadingText=this.add.text(n.x,n.y,"Asset: ",{color:"#c1c1c1",fontSize:10}).setOrigin(.5)}preload(){this.load.setPath("assets"),this.load.image("logo","logos/logo_en.png"),this.load.on("progress",this.loadingBar.updateProgress.bind(this.loadingBar)),this.load.on("fileprogress",this.updateFilesInLoadingText.bind(this)),this.load.on("complete",this.completeLoading.bind(this))}updateFilesInLoadingText(e){this.currentAssetInLoadingText.setText(`Asset: ${e.key}`)}completeLoading(){!function(e,t,n=500,s=500){if(!(e instanceof Phaser.Scene))throw new Error("Invalid argument: scene isn't an instance of Phaser.Scene");!function(e,t=500,n=500,s){if(!(e instanceof Phaser.Scene))throw new Error("Invalid argument: scene isn't an instance of Phaser.Scene");e.tweens.add({targets:e.cameras.main,alpha:0,duration:t,onComplete:s})}(e,n,s,(()=>{e.scene.start(t),e.scene.get(t).events.once("create",(()=>{const n=e.scene.get(t);n.cameras.main.alpha=0,function(e,t=500,n){if(!(e instanceof Phaser.Scene))throw new Error("Invalid argument: scene isn't an instance of Phaser.Scene");e.tweens.add({targets:e.cameras.main,alpha:1,duration:t,onComplete:n})}(n,s,(()=>{}))}))}))}(this,"MainMenu",1e3,1e3)}},class extends o{constructor(){super("MainMenu")}create(){const e=a(this),t={x:e.x,y:.5*e.y};this.add.image(t.x,t.y,"logo").setDisplaySize(200,100);const n={x:e.x,y:1.3*e.y};this.add.text(n.x,n.y,"IN PROGRESS.").setOrigin(.5)}},class extends o{constructor(){super("Game")}create(){}},class extends o{constructor(){super("GameOver")}create(){}}]};new r.Game(c);
